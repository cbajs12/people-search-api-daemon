<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="daemon">
    <!-- Alias -->
    <typeAlias type="crawler.vo.BaseVO" alias="baseVO" />
    <typeAlias type="crawler.vo.CareerVO" alias="careerVO" />
    <typeAlias type="crawler.vo.DetailVO" alias="detailVO" />
    <typeAlias type="crawler.vo.NameVO" alias="nameVO" />

    <select id="getBaseList" resultClass="baseVO">
        /*+ getBaseList */
        SELECT BASE_SEQ as base_seq
        , BASE_NAME as base_name
        , BASE_CODE as base_code
        FROM SEARCHBASE
        WHERE BASE_CODE != 'CR002'
    </select>

    <insert id="setBaseData" parameterClass="baseVO">
        /* setBaseData */
        insert into SEARCHBASE(BASE_NAME, BASE_CODE)
        VALUES (#base_name#, #base_code#)
    </insert>

    <select id="getBaseData" parameterClass="baseVO" resultClass="baseVO">
        /* getBaseData */
        SELECT BASE_NAME FROM SEARCHBASE WHERE BASE_NAME = #base_name#
    </select>

    <insert id="setNameData" parameterClass="nameVO">
        /* setNameData */
        insert into SEARCHNAME(NAME_OS, NAME_NAMES, NAME_CODE)
        VALUES (#name_os#, #name_names#, #name_code#)
    </insert>

    <select id="getNameList" resultClass="nameVO">
        /*+ getNameList */
        SELECT Name_SEQ as name_seq
        , NAME_NAMES as name_names
        , Name_CODE as name_code
        , Name_OS as name_os
        FROM SEARCHNAME
        WHERE NAME_CODE != 'CR002'
    </select>

    <insert id="setDetailData" parameterClass="detailVO">
        /* setDetailData */
        insert into SEARCHDETAIL(FM_URLS, DETAIL_OS, DETAIL_JOB, DETAIL_NAME, AGE, PROFILE)
        VALUES (#fm_urls#, #detail_os#, #detail_job#, #detail_name#, #age#, #profile#)
    </insert>

    <insert id="setCareerData" parameterClass="careerVO">
        /* setCareerData */
        insert into SEARCHCAREER(CAREER_DT, CAREER_OS, DESCRIPTION)
        VALUES (#career_dt#, #career_os#, #description#)
    </insert>
</sqlMap>
